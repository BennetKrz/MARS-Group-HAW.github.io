# Citizen

The ``Citizen`` agent is a [``MultiCapableAgent``](multi_capable_agent.md) that has a dayplan of activities over the day at different locations.
The dayplan is generated by statistical distribution (see figure below) depending on the properties ``Worker`` and ``PartTimeWorker``.

![uml_domain_model](wegzweck_nach_uhrzeit.png)

*Source: [Mobilit√§t in Deutschland](https://mobilitaet-in-tabellen.dlr.de/mit/)*

On the start point in time of a new action the ``Citizen`` moves to the wanted location. The agent may use different transportation devices depending on its capabilities (see [``MultiCapableAgent``](multi_capable_agent.md)) and the availability of vehicles in the current surrounding (see  [``MultimodalLayer``](../layers/multi_modal_layer.md)).


```plantUml
class Citizen {
    + Citizen(citizenLayer:CitizenLayer, position:Position, worker:bool, partTimeWorker:bool)
    + Worker : bool <<get>> <<set>>
    + PartTimeWorker : bool <<get>> <<set>>
    + CapabilityDrivingWithProbability : double <<set>>
    + DayPlan : DayPlan <<get>>
    + Home : PointOfInterest <<get>>
    + Work : PointOfInterest <<get>>
    + ActionLookupRadiusInMeter : double <<get>> <<set>>
    + <<override>> Tick() : void
    + ChangeWork(position:Position) : void
    + ChangeHome(position:Position) : void
}
MultiCapableAgent <|-- Citizen

abstract class MultiCapableAgent {
    + MultiCapableAgent(multimodalLayer:IMultimodalLayer, position:Position)
    + Capabilities : IEnumerable<ModalType> <<get>>
    + AgentCapabilities : string <<get>>
    + CapabilityDriving : bool <<get>> <<set>>
    + CapabilityCycling : bool <<get>> <<set>>
    + ExpectedTravelTime : int <<get>> <<protected set>>
    + StoreTickResult : bool <<get>> <<set>>
    + ActualTravelTime : int <<get>>
    + RouteMainModalActualTravelTime : int <<get>> <<protected set>>
    + RouteMainModality : string <<get>>
    + RouteModalities : string <<get>>
    + RouteModalityCount : int <<get>>
    + RouteMainModalRouteLength : int <<get>>
    + <<override>> Move() : void
    + <<override>> Notify(passengerMessage:PassengerMessage) : void
    + ActiveCapability : ModalType <<get>>
    + OvertakingActivated : bool <<get>>
    + CurrentlyCarDriving : bool <<get>>
    + DriverRandom : double <<get>>
    + DriverType : DriverType <<get>>
    + CyclingPower : double <<get>>
    + Gradient : double <<get>> = 0
}
Pedestrian <|-- MultiCapableAgent
ICarSteeringCapable <|-- MultiCapableAgent
IBicycleSteeringAndRentalCapable <|-- MultiCapableAgent

class Pedestrian {
    + Pedestrian(multimodalLayer:IMultimodalLayer, position:Position)
    + PerceptionInMeter : double <<get>> <<set>> = 1.0
    + Gender : GenderType <<get>> <<set>>
    + SetWalking() : void
    + SetRunning() : void
    + <<override>> Tick() : void
    + <<override>> Notify(passengerMessage:PassengerMessage) : void
    + PreferredSpeed : double <<get>> <<protected set>>
}
MultimodalAgent <|-- Pedestrian
IWalkingCapable <|-- Pedestrian

enum GenderType {
    Male,
    Female,
}
```